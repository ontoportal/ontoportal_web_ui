.nav-container
  %nav.top-nav
    .nav-responsiveness-container
      %a.nav-logo{href: "/"}
        %img{:src => asset_path("logo-white.svg")}/
        %p
          = portal_name
      %input#nav-menu{:type => "checkbox"}/
      %label.menu-btn{:for => "nav-menu"}
        %i.fas.fa-bars
    .nav-items{'data-controller': "home-search"}
      %ul.top-nav-ul
        - navitems.each do |navItem|
          %li.nav-ul-li
            %a{href: navItem[0], class: ("active" if current_page?(navItem[0]))} #{navItem[1]}
      .nav-search-container
        %input.nav-input{:placeholder => "Search "+portal_name+" ...", :type => "text", :name => "search", 'data-home-search-target': 'input', 'data-action': 'input->home-search#search blur->home-search#blur'}
        #home-search-drop-down.nav-search-drop-down{'data-home-search-target': 'dropDown', 'data-action': 'mousedown->home-search#prevent'}
          %a.home-search-ontology-content#home-search-ontology-content{href: "#", 'data-home-search-target': 'searchOntologyContent'}
            %p#seached-ontology{'data-home-search-target': 'ontology'}
            %div
              %img{src: asset_path("loop.svg")}/
              %p Search ontology content
          %a.home-search-ontology-content#home-search-ontologies{href: "#", 'data-home-search-target': 'homeSearchOntologies'}
            %p#seached-ontologies{'data-home-search-target': 'searchedOntologies'}
            %div
              %img{src: asset_path("loop.svg")}/
              %p See all ontologies


      %a.nav-a{:href => "/login"} Login
      %select.nav-language
        %option{:value => "EN"}
          EN
        %option{:value => "FR"}
          FR
      .dropdown
        = link_to("#", id: "supportMenuDropdownLink", class: "nav-link dropdown-toggle supportMenuDropdownLink", role: "button", data: {toggle: "dropdown"}, aria: {haspopup: "true", expanded: "false"}) do
          Support
        %div.dropdown-menu.dropdown-menu-right{aria: {labelledby: "supportMenuDropdownLink"}}
          = link_to(t(:submit_feedback), feedback_path(location: encode_param(request.url)), id: "submitFeedbackMenuItem", class: "dropdown-item pop_window")
          %div.dropdown-divider
          %h6.dropdown-header Documentation
          = link_to(t(:_help), "#{$WIKI_HELP_PAGE}", target: "_blank", class: "dropdown-item")
          = link_to(t(:_release_notes), "#{$RELEASE_NOTES}", target: "_blank", class: "dropdown-item")
          = link_to(t(:_publications), $PUBLICATIONS_URL, target: "_blank", class: "dropdown-item")
:javascript
  let checkbox = document.getElementById('nav-menu');
  let divs = document.querySelectorAll('.top-nav, .top-nav-ul, .nav-items, .nav-ul-li, .nav-input, .nav-a, .nav-language, .supportMenuDropdownLink');
  checkbox.addEventListener('change', function() {
  if (this.checked) {
  divs.forEach(function(div) {
  div.classList.add('show-responsive');
  });
  } else {
  divs.forEach(function(div) {
  div.classList.remove('show-responsive');
  });
  }
  });
